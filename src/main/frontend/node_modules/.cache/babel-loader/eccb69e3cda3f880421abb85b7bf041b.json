{"ast":null,"code":"var _jsxFileName = \"/Users/nagesh/Documents/camunda/workarea/latest/sample-poc/src/main/frontend/src/WorkflowClose.js\";\nimport React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { Button, Col, Container, Form, FormGroup, Input, Label, Row } from 'reactstrap';\nimport Modal from 'react-modal';\nimport AppNavbar from './AppNavBar';\nimport './App.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass WorkflowClose extends Component {\n  constructor(props) {\n    super(props);\n    this.emptyItem = {\n      workflowtype: '',\n      tradecenter: '',\n      branchcode: '',\n      refid: '',\n      queue: '',\n      productcode: '',\n      eventtype: '',\n      currency: '',\n      amount: '',\n      closuretype: '',\n      comments: ''\n    };\n    this.state = {\n      item: this.emptyItem\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleReview = this.handleReview.bind(this);\n  }\n\n  async componentDidMount() {\n    if (this.props.match.params.id !== 'new') {\n      const workflow = await (await fetch(`/workflow/${this.props.match.params.id}`)).json();\n      this.setState({\n        item: workflow\n      });\n    }\n\n    const canClose = await (await fetch(`/workflow/canClose/${this.props.match.params.id}`)).stringify;\n\n    if ('nocuser' === localStorage.getItem('uname')) {\n      window.alert('Work Order cannot be closed by same user group');\n      this.props.history.push('/workflow');\n    }\n  }\n\n  async handleSubmit(event) {\n    event.preventDefault();\n    const {\n      item\n    } = this.state;\n    await fetch('/workflow/close/' + item.id, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(item)\n    });\n    this.props.history.push('/workflow');\n  }\n\n  async handleReview(event) {\n    event.preventDefault();\n    const {\n      item\n    } = this.state;\n    await fetch('/workflow/review/' + item.id, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(item)\n    });\n    this.props.history.push('/workflow');\n  }\n\n  render() {\n    const {\n      item\n    } = this.state;\n\n    const title = /*#__PURE__*/_jsxDEV(\"h3\", {\n      style: {\n        fontWeight: 'bold',\n        color: 'blue'\n      },\n      children: 'Work Order Details'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 23\n    }, this);\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(AppNavbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Modal, {\n            isOpen: \"true\",\n            contentLabel: \"Close Modal\",\n            children: [title, /*#__PURE__*/_jsxDEV(Form, {\n              onSubmit: this.handleSubmit,\n              children: [/*#__PURE__*/_jsxDEV(Row, {\n                children: [/*#__PURE__*/_jsxDEV(Col, {\n                  xs: \"2\",\n                  children: /*#__PURE__*/_jsxDEV(Label, {\n                    for: \"workflowtype\",\n                    children: \"Workflow Type\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 92,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 91,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  xs: \"10\",\n                  children: item.workflowtype\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 94,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Row, {\n                children: [/*#__PURE__*/_jsxDEV(Col, {\n                  xs: \"2\",\n                  children: /*#__PURE__*/_jsxDEV(Label, {\n                    for: \"tradecenter\",\n                    children: \"Trade Center\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 100,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 99,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  xs: \"10\",\n                  children: item.tradecenter\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 102,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Row, {\n                children: [/*#__PURE__*/_jsxDEV(Col, {\n                  xs: \"2\",\n                  children: /*#__PURE__*/_jsxDEV(Label, {\n                    for: \"branchcode\",\n                    children: \"Branch Code\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 108,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 107,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  xs: \"10\",\n                  children: item.branchcode\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Row, {\n                children: [/*#__PURE__*/_jsxDEV(Col, {\n                  xs: \"2\",\n                  children: /*#__PURE__*/_jsxDEV(Label, {\n                    for: \"productcode\",\n                    children: \"Product Code\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 116,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 115,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  xs: \"10\",\n                  children: item.productcode\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 118,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Row, {\n                children: [/*#__PURE__*/_jsxDEV(Col, {\n                  xs: \"2\",\n                  children: /*#__PURE__*/_jsxDEV(Label, {\n                    for: \"refid\",\n                    children: \"Ref ID\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 124,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 123,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  xs: \"10\",\n                  children: item.refid\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Row, {\n                children: [/*#__PURE__*/_jsxDEV(Col, {\n                  xs: \"2\",\n                  children: /*#__PURE__*/_jsxDEV(Label, {\n                    for: \"queue\",\n                    children: \"Queue\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 132,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  xs: \"10\",\n                  children: item.queue\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 134,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Row, {\n                children: [/*#__PURE__*/_jsxDEV(Col, {\n                  xs: \"2\",\n                  children: /*#__PURE__*/_jsxDEV(Label, {\n                    for: \"eventtype\",\n                    children: \"Event Type\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 140,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 139,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  xs: \"10\",\n                  children: item.eventtype\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 142,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Row, {\n                children: [/*#__PURE__*/_jsxDEV(Col, {\n                  xs: \"2\",\n                  children: /*#__PURE__*/_jsxDEV(Label, {\n                    for: \"currency\",\n                    children: \"Currency\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 148,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 147,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  xs: \"10\",\n                  children: item.currency\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Row, {\n                children: [/*#__PURE__*/_jsxDEV(Col, {\n                  xs: \"2\",\n                  children: /*#__PURE__*/_jsxDEV(Label, {\n                    for: \"amount\",\n                    children: \"Transaction Amount\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 156,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 155,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  xs: \"10\",\n                  children: item.amount\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 158,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                color: \"primary\",\n                type: \"submit\",\n                children: \"Close Won\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                color: \"warning\",\n                tag: Link,\n                to: \"/workflow\",\n                onClick: this.handleReview,\n                children: \"Review\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                color: \"danger\",\n                tag: Link,\n                to: \"/workflow\",\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(WorkflowClose);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/Users/nagesh/Documents/camunda/workarea/latest/sample-poc/src/main/frontend/src/WorkflowClose.js"],"names":["React","Component","Link","withRouter","Button","Col","Container","Form","FormGroup","Input","Label","Row","Modal","AppNavbar","WorkflowClose","constructor","props","emptyItem","workflowtype","tradecenter","branchcode","refid","queue","productcode","eventtype","currency","amount","closuretype","comments","state","item","handleSubmit","bind","handleReview","componentDidMount","match","params","id","workflow","fetch","json","setState","canClose","stringify","localStorage","getItem","window","alert","history","push","event","preventDefault","method","headers","body","JSON","render","title","fontWeight","color"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { Button, Col, Container, Form, FormGroup, Input, Label,  Row } from 'reactstrap';\nimport Modal  from 'react-modal';\nimport AppNavbar from './AppNavBar';\nimport './App.js';\n\nclass WorkflowClose extends Component {\n\n    emptyItem = {\n        workflowtype: '',\n        tradecenter: '',\n        branchcode: '',\n        refid: '',\n        queue: '',\n        productcode: '',\n        eventtype: '',\n        currency: '',\n        amount: '',\n        closuretype: '',\n        comments: ''\n    };\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            item: this.emptyItem\n        };\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleReview = this.handleReview.bind(this);\n    }\n\n    async componentDidMount(){\n        if(this.props.match.params.id !== 'new'){\n            const workflow = await (await fetch(`/workflow/${this.props.match.params.id}`)).json();\n            this.setState({item: workflow});\n        }\n            const canClose = await (await fetch(`/workflow/canClose/${this.props.match.params.id}`)).stringify;\n            \n            if('nocuser' === localStorage.getItem('uname')){\n            window.alert('Work Order cannot be closed by same user group');\n            this.props.history.push('/workflow');\n        }\n    }\n\n    async handleSubmit(event) {\n        event.preventDefault();\n        const {item} = this.state;\n    \n        await fetch('/workflow/close/' + item.id, {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(item),\n        });\n        this.props.history.push('/workflow');\n    }\n\n    async handleReview(event) {\n        event.preventDefault();\n        const {item} = this.state;\n\n        await fetch('/workflow/review/' +item.id, {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(item),\n        });\n        this.props.history.push('/workflow');\n    }\n\n    render() {\n        const {item} = this.state;\n        const title = <h3 style={{ fontWeight: 'bold', color: 'blue'}}>{'Work Order Details'}</h3>;\n    \n        return (<div>\n            <AppNavbar/>\n            <Container>\n                <div>\n                    <Modal\n                        isOpen=\"true\"\n                        contentLabel=\"Close Modal\">\n                            {title}\n\n                            <Form onSubmit={this.handleSubmit}>\n                                <Row>\n                                    <Col xs=\"2\">\n                                        <Label for=\"workflowtype\">Workflow Type</Label>\n                                    </Col>\n                                    <Col xs=\"10\">\n                                        {item.workflowtype}\n                                    </Col>\n                                </Row>\n                                <Row>\n                                    <Col xs=\"2\">\n                                        <Label for=\"tradecenter\">Trade Center</Label>\n                                    </Col>\n                                    <Col xs=\"10\">\n                                        {item.tradecenter}\n                                    </Col>\n                                </Row>\n                                <Row>\n                                    <Col xs=\"2\">\n                                        <Label for=\"branchcode\">Branch Code</Label>\n                                    </Col>\n                                    <Col xs=\"10\">\n                                        {item.branchcode}\n                                    </Col>\n                                </Row>\n                                <Row>\n                                    <Col xs=\"2\">\n                                        <Label for=\"productcode\">Product Code</Label>\n                                    </Col>\n                                    <Col xs=\"10\">\n                                        {item.productcode}\n                                    </Col>\n                                </Row>\n                                <Row>\n                                    <Col xs=\"2\">\n                                        <Label for=\"refid\">Ref ID</Label>\n                                    </Col>\n                                    <Col xs=\"10\">\n                                        {item.refid}\n                                    </Col>\n                                </Row>\n                                <Row>\n                                    <Col xs=\"2\">\n                                        <Label for=\"queue\">Queue</Label>\n                                    </Col>\n                                    <Col xs=\"10\">\n                                        {item.queue}\n                                    </Col>\n                                </Row>\n                                <Row>\n                                    <Col xs=\"2\">\n                                        <Label for=\"eventtype\">Event Type</Label>\n                                    </Col>\n                                    <Col xs=\"10\">\n                                        {item.eventtype}\n                                    </Col>\n                                </Row>\n                                <Row>\n                                    <Col xs=\"2\">\n                                        <Label for=\"currency\">Currency</Label>\n                                    </Col>\n                                    <Col xs=\"10\">\n                                        {item.currency}\n                                    </Col>\n                                </Row>\n                                <Row>\n                                    <Col xs=\"2\">\n                                        <Label for=\"amount\">Transaction Amount</Label>\n                                    </Col>\n                                    <Col xs=\"10\">\n                                        {item.amount}\n                                    </Col>\n                                </Row>\n                                <Button color=\"primary\" type=\"submit\">Close Won</Button>\n                                <Button color=\"warning\" tag={Link} to=\"/workflow\" onClick={this.handleReview}>Review</Button>\n                                <Button color=\"danger\" tag={Link} to=\"/workflow\" >Cancel</Button>\n                            </Form>\n                    </Modal>\n                </div>\n            </Container>\n        </div>\n        );\n    }\n}\nexport default withRouter(WorkflowClose);"]},"metadata":{},"sourceType":"module"}